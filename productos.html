<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canem Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <!--navbar-->
    <nav class="navbar navbar-expand-sm navbar-dark bg-black">
      <div class="container-fluid">
        <a class="navbar-brand" href="../Prueba-1/home.html">
          <img class="logo" src="../Prueba-1/imgs/canem.png" alt="Logo" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mynavbar">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="../Prueba-1/home.html">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="productos.html">Productos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">Acerca de</a>
            </li>
          </ul>
          <form class="d-flex">
            <a href="login.html" class="btn btn-primary me-2">Iniciar sesión</a>
          </form>
          <!-- Botón del carrito de compras -->
          <button
            id="cartButton"
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#cartModal"
          >
            <img src="../Prueba-1/imgs/carrrrr.png" alt="Carrito" width="30px" />
          </button>
        </div>
      </div>
    </nav>

    <!-- Ventana modal para el carrito de compras -->
    <div
      class="modal fade"
      id="cartModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Carrito de Compras</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <!-- Contenido del carrito de compras -->
            <div class="container">
              <div class="row">
                <div class="col">
                  <div id="cartItems"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary">Pagar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Productos -->
    <div class="centraresto">
      <p class="textobonito">Collares</p>
    </div>
    <br>
    <section style="background-color: #eee;">
      <div class="container py-5">
        <div class="row justify-content-center">
          <!-- CARD 1 -->
          <div class="col-md-4">
            <!-- Contenido de la primera card -->
            <div class="container py-5">
              <div class="row justify-content-center">
                <div class="card" style="border-radius: 15px; max-width: 340px;">
                  <div class="bg-image hover-overlay ripple ripple-surface ripple-surface-light"
                    data-mdb-ripple-color="light">
                    <img src="imgs/collar_gato1.webp" style="border-top-left-radius: 15px; border-top-right-radius: 15px;"
                      class="img-fluid" alt="xd" />
                    <a href="#!">
                      <div class="mask"></div>
                    </a>
                  </div>
                  <div class="card-body pb-0">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h5 class="text-dark">Collar para gato</h5>
                        <p class="small text-muted">Collares</p>
                        <p>Un collar con un diseño único y elegante, que hará que tu gato se vea más hermoso que nunca.</p>
                      </div>
                      <div>
                        <div class="d-flex flex-row justify-content-end mt-1 mb-4 text">
                          <p>$5.990</p>
                        </div>
                      </div>
                    </div>
                    <hr class="my-0" />
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center pb-2 mb-2">
                        <button type="button" class="btn btn-primary btn-add-to-cart" data-nombre="Collar para gato"
                          data-precio="5.990">Añadir al carrito</button>
                        <button type="button" class="btn btn-primary ms-1">Detalles</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- CARD 2 -->
          <div class="col-md-4">
            <!-- Contenido de la segunda card -->
            <div class="container py-5">
              <div class="row justify-content-center">
                <div class="card" style="border-radius: 15px; max-width: 340px;">
                  <div class="bg-image hover-overlay ripple ripple-surface ripple-surface-light"
                    data-mdb-ripple-color="light">
                    <img src="../Prueba-1/imgs/collar_gato.webp" style="border-top-left-radius: 15px; border-top-right-radius: 15px;"
                      class="img-fluid" alt="xd" />
                    <a href="#!">
                      <div class="mask"></div>
                    </a>
                  </div>
                  <div class="card-body pb-0">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h5 class="text-dark">Collar de cuero para gato</h5>
                        <p class="small text-muted">Collares</p>
                        <p>Un elegante collar de cuero hecho a mano para tu gato, que le dará un toque de distinción.</p>
                      </div>
                      <div>
                        <div class="d-flex flex-row justify-content-end mt-1 mb-4 text">
                          <p>$7.490</p>
                        </div>
                      </div>
                    </div>
                    <hr class="my-0" />
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center pb-2 mb-2">
                        <button type="button" class="btn btn-primary btn-add-to-cart" data-nombre="Collar de cuero para gato"
                          data-precio="7.490">Añadir al carrito</button>
                        <button type="button" class="btn btn-primary ms-1">Detalles</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- CARD 3 -->
          <div class="col-md-4">
            <!-- Contenido de la tercera card -->
            <div class="container py-5">
              <div class="row justify-content-center">
                <div class="card" style="border-radius: 15px; max-width: 340px;">
                  <div class="bg-image hover-overlay ripple ripple-surface ripple-surface-light"
                    data-mdb-ripple-color="light">
                    <img src="imgs/collar_perro1.webp" style="border-top-left-radius: 15px; border-top-right-radius: 15px;"
                      class="img-fluid" alt="xd" />
                    <a href="#!">
                      <div class="mask"></div>
                    </a>
                  </div>
                  <div class="card-body pb-0">
                    <div class="d-flex justify-content-between">
                      <div>
                        <h5 class="text-dark">Collar para perro</h5>
                        <p class="small text-muted">Collares</p>
                        <p>El collar con mejor calidad-precio del mercado, para que tu perro se vea espléndido.</p>
                      </div>
                      <div>
                        <div class="d-flex flex-row justify-content-end mt-1 mb-4 text">
                          <p>$4.870</p>
                        </div>
                      </div>
                    </div>
                    <hr class="my-0" />
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center pb-2 mb-2">
                        <button type="button" class="btn btn-primary btn-add-to-cart" data-nombre="Collar para perro"
                          data-precio="4.870">Añadir al carrito</button>
                        <button type="button" class="btn btn-primary ms-1">Detalles</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div id="cartItems"></div>
    <!-- INICIO DE FOOTER -->
    <footer id="sticky-footer" class="py-4 bg-dark text-white-50 mt-auto">
      <div class="container text-center">
        <small>Copyright &copy; CANEM SHOP</small>
      </div>
    </footer>
    <!-- CIERRE DE FOOTER -->

    <!-- Script para funcionalidad del carrito -->
    <script>
      // Array para almacenar los productos en el carrito
      let carrito = [];

      // Función para añadir un producto al carrito
      function addToCart(nombre, precio) {
        const producto = { nombre, precio };
        carrito.push(producto);
        updateCartUI();
      }

      // Función para actualizar la interfaz del carrito
      function updateCartUI() {
        const cartItemsContainer = document.getElementById("cartItems");
        // Limpiar el contenedor del carrito
        cartItemsContainer.innerHTML = "";
        
        // Función para añadir un producto al carrito
    function addToCart(nombre, precio) {
      const producto = { nombre, precio };
      carrito.push(producto);
      updateCartUI();
    }

         // Variables para almacenar la suma total y mostrarla
        let total = 0;

        // Iterar sobre los productos en el carrito y mostrarlos en la interfaz
        carrito.forEach((producto) => {
          const itemHTML = `
            <div class="row align-items-center">
              <div class="col-md-6">
                <p class="lead fw-normal mb-0">${producto.nombre}</p>
              </div>
              <div class="col-md-3">
                <p class="lead fw-normal mb-0">$${producto.precio.toFixed(3)}</p>
              </div>
            </div>
            <hr />
          `;
          cartItemsContainer.innerHTML += itemHTML;
        });
      }

      // Agregar event listener a los botones "Añadir al carrito"
      const addToCartButtons = document.querySelectorAll(".btn-add-to-cart");
      addToCartButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const nombre = button.getAttribute("data-nombre");
          const precio = parseFloat(button.getAttribute("data-precio"));
          addToCart(nombre, precio);
        });
      });

      // Event listener para el botón del carrito
      document.getElementById("cartButton").addEventListener("click", updateCartUI);
    </script>
  </body>
</html>